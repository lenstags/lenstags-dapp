import type { NextApiRequest, NextApiResponse } from 'next';

import { NETWORKS } from '@lib/config';

const WHITELISTED_WALLETS = [
  '0x014FFCF34D8515535b99d6AEF654258c237168B6',
  '0xB405b3E6494CAc9a88660362Ee19C38E955E2C6E',
  '0x9D9bdFD17add8eFdDDaBE91EF94fA35F5Ad92313',
  '0xd4693A3F3B403215b159513193347b0d129D621c',
  '0xb00Cc766b7AdC1a34d72EA46a8d4bbdfBc5904F9',
  '0x5700F03F87db485fdb90e18b3100F00b235886f1',
  '0x4Ca2a670bd5505B870B21331a53D9bB4AE6e2084',
  '0xa6a6844545B4b2e2B995416F6c511B2c7d29BDaD',
  '0x2DCD860489cd099FB966d1729F890B8c5c997908',
  '0x6687c671980E65ebD722b9146Fc61e2471558dd6',
  '0x6D198eAaC23ffb8e6E85A905A214acF04CBc6e62',
  '0x83F9821EF8F66708108Df75e8adFdfFe8427C3A8',
  '0x5c3Fa65c3eB57f83C67f947321AC5969e72ed44D',
  '0x714b831eB02FE854283219B2B9f1c6951f46Dcb9',
  '0x51Db32798061907b822D5028B75ba5809d3b9D12',
  '0x61d10BFDa1aa5010795985FD9a49F21Fb7570982',
  '0x26067533D9325259C7B25B1178F3EF78C90081c2',
  '0xfd72C716278894E9bc1Fda2d41F93c20A6CF91EC',
  '0xb00cc766b7adc1a34d72ea46a8d4bbdfbc5904f9',
  '0x33eae564a675900bbbc7f4f049cacb522b26a3c0',
  '0xbb218ff6838ee182e199b59154cf6d31861d3f42',
  '0x36ACC9E5248f33B030d3eA3465AC1f99E55868Ec',
  '0x362fd4d772c1F4Ef764AC4f107243014EEDab75D',
  '0xeB53C577B5bC45F9f7A08aae188bCE6fc38f02f0',
  '0xd6dd6C7e69D5Fa4178923dAc6A239F336e3c40e3'
];

type ResponseData = {
  isWhitelisted: boolean;
};

const handler = (req: NextApiRequest, res: NextApiResponse<ResponseData>) => {
  const { wallet } = req.query;

  if (typeof wallet !== 'string') {
    res.status(400).json({ isWhitelisted: false });
    return;
  }

  const isWhitelisted: boolean = NETWORKS.TESTNET
    ? true //  WHITELISTED_WALLETS.includes(wallet) //
    : WHITELISTED_WALLETS.includes(wallet);
  res.status(200).json({ isWhitelisted });
};

export default handler;
